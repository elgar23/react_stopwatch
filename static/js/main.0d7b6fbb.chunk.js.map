{"version":3,"sources":["App.js","click.js","index.js"],"names":["App","useState","time","setTime","timerOn","setTimerOn","useEffect","action","Subject","interval","pipe","takeUntil","subscribe","val","next","complete","handleWait","actionDoubleClick","delay","click","setClick","timer","setTimeout","clearTimeout","prev","useDoubleClick","className","Math","floor","slice","onClick","prevState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qOA+EeA,MAxEf,WACE,MAAwBC,mBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACR,IAAMC,EAAS,IAAIC,IAQnB,OAPAC,YAAS,IACRC,KAAKC,YAAUJ,IACfK,WAAU,WACNR,GACDD,GAAQ,SAACU,GAAD,OAAOA,EAAI,QAGhB,WACLN,EAAOO,OACPP,EAAOQ,cAET,CAACX,IAEH,IAIMY,EC5BO,SAAwBC,GAAiC,IAAdC,EAAa,uDAAL,IAChE,EAA0BjB,mBAAS,GAAnC,mBAAOkB,EAAP,KAAcC,EAAd,KAYA,OAVAd,qBAAU,WACR,IAAMe,EAAQC,YAAW,WACvBF,EAAS,KACRF,GAIH,OAFc,IAAVC,GAAaF,IAEV,kBAAMM,aAAaF,OAGrB,kBAAMD,GAAS,SAACI,GAAD,OAAUA,EAAO,MDepBC,EAAe,kBAAKpB,GAAW,MAelD,OACE,qCACA,iDACA,sBAAKqB,UAAY,UAAjB,UACE,kCACI,IAAMC,KAAKC,MAAO1B,EAAI,KAAsB,KAAK2B,OAAO,GAD5D,OAGA,kCAAQ,IAAMF,KAAKC,MAAM1B,EAAO,MAAO2B,OAAO,GAA9C,OACE,gCAAQ,IAAMF,KAAKC,MAAO1B,EAAO,IAAO,KAAK2B,OAAO,SAGpDzB,GACA,wBAAQsB,UAAU,QAAQI,QA/BZ,WAClBzB,GAAW,SAAC0B,GAAD,OAAgBA,MA8BvB,mBAKD3B,GACC,wBAAQsB,UAAU,OAAOI,QA/BZ,WACjB3B,EAAQ,GACRE,GAAW,IA6BP,kBAKF,wBAAQqB,UAAU,OAAOI,QAASd,EAAlC,kBAIA,wBAAQU,UAAU,QAAQI,QAnCV,WACL,IAAT5B,IAGJC,EAAQ,GACRE,GAAW,KA8BT,uBEpEN2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.0d7b6fbb.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { interval, Subject } from \"rxjs\";\nimport { takeUntil } from \"rxjs/operators\";\nimport useDoubleClick from \"./click\";\n\nimport \"./index.css\";\n\nfunction App () {\n  const [time, setTime] = useState(0);\n  const [timerOn, setTimerOn] = useState(false);\n\n  useEffect(() => {\n    const action = new Subject();\n    interval(10)\n    .pipe(takeUntil(action))\n    .subscribe(()=>{\n      if(timerOn){\n        setTime((val)=>val+1);\n      }\n    });\n    return () => {\n      action.next();\n      action.complete();\n    };\n  },[timerOn]);\n\n  const handleStart = () => {\n    setTimerOn((prevState) => !prevState);\n  };\n\n  const handleWait = useDoubleClick(()=> setTimerOn(false));\n\n  const handleStop = () =>{\n    setTime(0);\n    setTimerOn(true);\n  };\n\n  const handleReset = () => {\n    if (time === 0) {\n      return;\n    }\n    setTime(0);\n    setTimerOn(true);\n  };\n\n  return (\n    <>\n    <h2>React stopwatch</h2>\n    <div className = \"display\">\n      <span>\n        {(\"0\" + Math.floor((time / (1000 * 60 *60)) % 24)).slice(-2)}:\n      </span>\n      <span>{(\"0\" + Math.floor(time / 6000)).slice(-2)}:</span>\n        <span>{(\"0\" + Math.floor((time / 100) % 60)).slice(-2)}</span>\n      </div>\n\n      {!timerOn && (\n        <button className=\"start\" onClick={handleStart}>\n          Start\n        </button>\n      )}\n\n      {timerOn && (\n        <button className=\"stop\" onClick={handleStop}>\n          Stop\n        </button>\n      )}\n\n      <button className=\"wait\" onClick={handleWait}>\n        Wait\n      </button>\n\n      <button className=\"reset\" onClick={handleReset}>\n        Reset\n      </button>\n    </>\n  );\n}\n\nexport default App;","import { useState, useEffect } from \"react\";\n\nexport default function useDoubleClick(actionDoubleClick, delay = 300) {\n  const [click, setClick] = useState(0);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setClick(0);\n    }, delay);\n\n    if (click === 2) actionDoubleClick();\n\n    return () => clearTimeout(timer);\n  });\n\n  return () => setClick((prev) => prev + 1)\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}